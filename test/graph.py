# coding: utf-8
import numpy as np
import matplotlib.pyplot as plt
import math

def lineChart():
    t=[845.8,849.94,845.08,847.01,847.27,854.52,845.22,851.44,843.79,846.64,847.22,846.24,846.37,847.4,852.89,849.1,850.42,840.18,847.78,844.86,845.09,848.67,850.34,849.79,848.36,849.62,846.17,852.87,853.21,852.72,850.66,849.82,848.95,849.02,850.05,853.09,851.88,850.45,849.57,849.62,846.49,847.3,851.49,846.81,847.94,849.98,847.52,846.83,854.31,854.61,853.96,854.19,852.84,848.31,848.88,855.01,857.76,842.07,849.98,851,848.62,849.37,852.68,844.81,846,850.66,849.85,850.23,853.2,850.48,847.22,848.39,848.53,841.12,844.39,849.6,849.41,851.91,852.06,856.9,847.36,845.79,845.68,850.52,850.25,850.63,849.95,846.92,849.81,852.41,848.63,846.56,845.63,847.68,851.34,855.3,855.06,854.42,843.9,846.44,850.36,847.61,844.89,847.83,849.68,845.66,846.73,850.42,853.19,853.34,846.58,847.4,850.81,849.32,848.43,851.87,849.69,845.17,851.15,847.92,844.9,848.68,847.3,841.71,848.43,846.33,849.87,850.95,854.57,850.59,848.26,848.39,846.57,851.05,848.65,844.13,848.52,843.9,848.97,851.01,845.88,853.94,851.12,849.27,852.69,848.01,850.46,849.33,846.99,843.29,845.7,847.67,849.95,850.7,844.83,851.08,846.97,854.62,850.24,853.65,851.86,841.56,846.53,849.76,851.11,847.58,850.61,849.74,848.22,851.32,854.4,847.69,848.49,847.9,846.57,847.66,847.34,850.39,847.12,843.56,842.64,843.39,850,849.17,847.61,849.79,849.72,848.29,850.26,847.73,850.34,851.55,850.49,851.16,848.2,846.01,849.01,839.6,844.06,851.67,845.46,849.76,849.77,837.83,852.73,848.83,848.01,846.59,848.27,844.96,849.12,843.46,843.2,847.04,846.69,846.78,852.67,846.99,846.44,843.02,850.43,847.55,846.63,846.6,850.77,845.38,850.52,849.45,849.39,847.68,849.14,852.66,852.05,852.55,852.66,845.39,852.08,836.93,848.25,848.8,851.45,848.13,848.47,847.31,847.98,857.58,852.47,845.96,843.14,845.36,838.45,850.51,842.61,847.95,850.45,849.59,846.59,847.66,846.02,848.02,847.74,849.57,853.6,840.93,845.33,847.99,851.92,841.2,843.02,843.49,847.15,846.53,844.66,843.14,854.51,850.28,846.91,851.73,853.92,845.07,855.21,850.34,847.15,845.61,849.22,844.98,849.51,852.6,851.47,846.07,850.65,854.74,849.59,845.72,849.22,851.39,850.39,849.2,844.85,853.23,849.12,849.33,850.25,841.82,849.03,847.93,850.63,855.26,849.34,845.39,845.34,842.79,846.03,843.76,848,845.65,850.22,845.34,849.1,848.4,852.32,850.11,844.7,844.75,840.67,852.75,846.47,850.22,850.01,848.11,851.79,849.54,847.62,844.94,848.06,846.42,847.93,845.42,847.79,845.29,843.41,842.86,849.41,852.49,849.46,851.6,851.24,845.94,847.86,847.55,845.38,846.24,853.49,847.07,850.81,848.44,847.53,848.66,845.71,844.73,845.8]
    y=t
    x=range(0,len(y));
    #x = [a*1-100 for a in x]
    
    print(len(y))
    # 绘制图形
    plt.plot(x, y)

def barChart():
    # 这两行代码解决 plt 中文显示的问题
    plt.rcParams['font.sans-serif'] = ['SimHei']
    plt.rcParams['axes.unicode_minus'] = False

    waters = ('碳酸饮料', '绿茶', '矿泉水', '果汁', '其他')
    buy_number = [6, 7, 6, 1, 2]

    plt.bar(waters, buy_number)
    plt.title('男性购买饮用水情况的调查结果')

    plt.show()
    
    
#barChart()



def histogram():
    matrix=[
        [0,5,7,7,5,6,7,8],
        [7,2,6,2,6,5,6,8],
        [6,9,7,7,0,7,2,7],
        [6,6,1,7,6,7,7,5],
        [9,6,0,7,8,2,6,7],
        [2,8,8,2,7,6,7,8],
        [7,3,2,6,1,7,5,8],
        [9,9,5,6,7,7,7,7]
        ]
    n=np.zeros((10))
    print(n)
    for i in range(len(matrix)):
       for  j in range(len(matrix[i])):
             n[matrix[i][j]]+=1;
             
    plt.bar(np.arange(10), n)


def cdf(x,arr):
    all=0
    for i in range(len(arr)):
        if i<=x:
            all+=arr[i];
    return all;
def cdfMin(arr):
    for i in range(len(arr)):
        if arr[i]>0:
            return i;
def t(x,arr):
    c=cdf(x,arr)
    c_min=cdfMin(arr)
    c_max=cdf(len(arr)-1,arr)
    
    t=round(len(arr)*(c-c_min)/(c_max-c_min))
    
    if(t<0):
        t=0;
    elif(t>len(arr)-1):
        t=len(arr)-1;
        
    return int(t);
def histogram2():
    matrix=[
        [0,5,7,7,5,6,7,8],
        [7,2,6,2,6,5,6,8],
        [6,9,7,7,0,7,2,7],
        [6,6,1,7,6,7,7,5],
        [9,6,0,7,8,2,6,7],
        [2,8,8,2,7,6,7,8],
        [7,3,2,6,1,7,5,8],
        [9,9,5,6,7,7,7,7]
        ]
    n=np.zeros((10))
    print(n)
    for i in range(len(matrix)):
       for  j in range(len(matrix[i])):
             n[matrix[i][j]]+=1;
    
    n2=np.zeros((10))
    for i in range(len(n2)):
        j=t(i,n)
        n2[j]+=n[i]
        print(i,j)
    plt.bar(np.arange(10), n2)


histogram2()

